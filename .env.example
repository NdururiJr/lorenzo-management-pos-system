# ================================
# LORENZO DRY CLEANERS
# Environment Variables Configuration
# ================================
#
# Copy this file to .env.local and fill in your values
# Never commit .env.local to version control
#

# ================================
# FIREBASE CONFIGURATION (CLIENT)
# ================================
# Get these from Firebase Console > Project Settings > General
# https://console.firebase.google.com
NEXT_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_project_id.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_project_id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your_project_id.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
NEXT_PUBLIC_FIREBASE_APP_ID=your_app_id

# ================================
# FIREBASE CONFIGURATION (SERVER)
# ================================
# Get service account from Firebase Console > Project Settings > Service Accounts
# Download JSON and extract these values
FIREBASE_SERVICE_ACCOUNT_KEY=your_service_account_json_key
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"

# ================================
# PESAPAL PAYMENT GATEWAY
# ================================
# Get credentials from https://www.pesapal.com
# Sandbox: https://cybqa.pesapal.com/pesapalv3
# Production: https://pay.pesapal.com/pesapalv3
PESAPAL_API_URL=https://cybqa.pesapal.com/pesapalv3
PESAPAL_CONSUMER_KEY=your_pesapal_consumer_key
PESAPAL_CONSUMER_SECRET=your_pesapal_consumer_secret
PESAPAL_IPN_URL=https://your-domain.com/api/webhooks/pesapal
PESAPAL_IPN_ID=your_ipn_id

# ================================
# WATI.IO (WHATSAPP BUSINESS API)
# ================================
# Get Access Token and API Endpoint from https://app.wati.io/dashboard
# Navigate to: Dashboard > API Docs to find your credentials
#
# IMPORTANT NOTES:
# 1. Access Token: Copy ONLY the JWT token, NOT the word "Bearer"
#    Example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# 2. API Endpoint: Use the COMPLETE URL including your instance ID
#    Example: https://live-mt-server.wati.io/1051875
#    Note: URL format may be 'live-mt-server' or 'live-server' - copy exactly from dashboard
#
WATI_ACCESS_TOKEN=your_wati_access_token_without_bearer
WATI_API_ENDPOINT=https://live-mt-server.wati.io/YOUR_INSTANCE_ID

# ================================
# GOOGLE MAPS API
# ================================
# Get API key from https://console.cloud.google.com
# Enable: Maps JavaScript API, Directions API, Distance Matrix API, Geocoding API, Places API
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# ================================
# OPENAI API
# ================================
# Get API key from https://platform.openai.com
OPENAI_API_KEY=your_openai_api_key
OPENAI_ORGANIZATION_ID=your_organization_id (optional)

# Separate API key for the AI chatbot (optional)
# If set, the chatbot will use this key instead of OPENAI_API_KEY
# Useful for tracking chatbot usage separately
OPENAI_CHATBOT_API_KEY=your_chatbot_specific_api_key

# ================================
# RESEND (EMAIL SERVICE)
# ================================
# Get API key from https://resend.com
# Verify your domain first, then you can use any email@ from that domain
RESEND_API_KEY=your_resend_api_key
RESEND_FROM_EMAIL=Lorenzo Dry Cleaners <noreply@lorenzo-dry-cleaners.com>

# Multiple sender addresses for different scenarios
# All these addresses will work once your domain is verified
RESEND_ORDERS_EMAIL=Lorenzo Orders <orders@lorenzo-dry-cleaners.com>
RESEND_SUPPORT_EMAIL=Lorenzo Support <support@lorenzo-dry-cleaners.com>
RESEND_BILLING_EMAIL=Lorenzo Billing <billing@lorenzo-dry-cleaners.com>
RESEND_DELIVERY_EMAIL=Lorenzo Delivery <delivery@lorenzo-dry-cleaners.com>
RESEND_HR_EMAIL=Lorenzo HR <hr@lorenzo-dry-cleaners.com>
RESEND_REPLY_TO_EMAIL=support@lorenzo-dry-cleaners.com

# ================================
# SMS SERVICE (OPTIONAL)
# ================================
# Africa's Talking: https://africastalking.com
# Twilio: https://www.twilio.com
AFRICAS_TALKING_API_KEY=your_africas_talking_api_key
AFRICAS_TALKING_USERNAME=your_username

# OR

TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+254XXXXXXXXX

# ================================
# APPLICATION CONFIGURATION
# ================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME="Lorenzo Dry Cleaners"
NODE_ENV=development

# ================================
# CORS - ALLOWED ORIGINS
# ================================
# Comma-separated list of allowed origins for API access
# Used by the AI agent system for cross-origin requests from website
# Development: http://localhost:3001 (website dev server)
# Production: https://your-website-domain.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://lorenzo-dry-cleaners.com

# ================================
# DEVELOPMENT ONLY
# ================================
# Quick login credentials for development
# Remove in production!
NEXT_PUBLIC_DEV_LOGIN_EMAIL=admin@lorenzo.com
NEXT_PUBLIC_DEV_LOGIN_PASSWORD=Admin@123

# ================================
# MONITORING & ANALYTICS (OPTIONAL)
# ================================
# Sentry: https://sentry.io
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn

# Google Analytics: https://analytics.google.com
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ================================
# SECURITY
# ================================
# Generate a random string for JWT signing (use: openssl rand -base64 32)
JWT_SECRET=your_very_long_random_secret_key_here

# Session configuration
SESSION_TIMEOUT=1800000
# 1800000 ms = 30 minutes

# Webhook authentication key for internal notifications
# Generate a secure random key for production (use: openssl rand -base64 32)
WEBHOOK_API_KEY=dev-webhook-key-change-in-production

# ================================
# VISUAL CROSSING WEATHER API
# ================================
# Get API key from https://www.visualcrossing.com/
# Free tier: 1000 requests/day
# Used for: Operations planning, weather-aware staffing, delivery scheduling
# Displays weather widget on GM Dashboard with operations impact analysis
VISUAL_CROSSING_API_KEY=your_visual_crossing_api_key

# ================================
# AI CONFIGURATION
# ================================
# Encryption key for storing API keys in Firestore (32 bytes base64)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
CONFIG_ENCRYPTION_KEY=your_32_byte_base64_encryption_key

# Enable configurable LLM (set to 'true' to use admin-configured models)
# When false, falls back to direct OpenAI API calls
USE_CONFIGURABLE_LLM=false

# ================================
# DEPLOYMENT CONFIGURATION
# ================================
# Set to 'production' when deploying
# NEXT_PUBLIC_APP_URL=https://lorenzo-dry-cleaners.com
# NODE_ENV=production

# ================================
# NOTES
# ================================
#
# 1. FIREBASE SETUP:
#    - Create project at https://console.firebase.google.com
#    - Enable Firestore, Authentication, Storage, Functions
#    - Upgrade to Blaze (pay-as-you-go) plan for Cloud Functions
#
# 2. PESAPAL SETUP:
#    - Register at https://www.pesapal.com
#    - Submit KRA PIN and business registration documents
#    - Test in sandbox before going live
#    - Transaction fee: 3.5% + KES 50
#
# 3. WATI.IO SETUP:
#    - Sign up at https://wati.io
#    - Link WhatsApp Business number (+254...)
#    - Create message templates and get approval
#    - Pricing: ~$49/month (includes 1000 messages)
#
# 4. GOOGLE MAPS SETUP:
#    - Enable billing on Google Cloud Console
#    - Restrict API key to your domain
#    - Monitor usage (Free $200/month credit)
#
# 5. OPENAI SETUP:
#    - Add payment method
#    - Set usage limits (recommended: $50/month)
#    - GPT-4 pricing: $0.03/1K input, $0.06/1K output tokens
#
# 6. RESEND SETUP:
#    - Verify your domain in Resend dashboard
#    - Add DNS records (SPF, DKIM, DMARC)
#    - Once verified, all sender addresses from your domain will work
#    - Email mapping: orders@ (confirmations), support@ (help), billing@ (payments), delivery@ (logistics), hr@ (employees)
#    - Free tier: 3,000 emails/month
#    - Pro tier: $20/month for 50,000 emails/month
#
# 7. SMS PROVIDER:
#    - Choose between Africa's Talking (Kenya-focused) or Twilio (global)
#    - Both support Kenyan phone numbers (+254)
#
# ================================
